{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/current_front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"C:/current_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/current_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.json.stringify.js\";\n\nvar OnStatistic = /*#__PURE__*/function () {\n  function OnStatistic(event) {\n    _classCallCheck(this, OnStatistic);\n\n    this.event = event;\n    this.id = event.target.id;\n    this.url = 'http://127.0.0.1:8000/api/statistics/create_statistic_entry';\n    this.body = this.createBody();\n  }\n\n  _createClass(OnStatistic, [{\n    key: \"getActiveBank\",\n    value: function getActiveBank() {\n      var buttonsCheckbox = document.getElementsByClassName('btn-check header-button');\n\n      var _iterator = _createForOfIteratorHelper(buttonsCheckbox),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var bttn = _step.value;\n\n          if (bttn.checked == true) {\n            var bttnId = bttn.id.replace('_registry', '').split(' ')[1];\n            return bttnId;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"getClassModel\",\n    value: function getClassModel() {\n      var classModel = localStorage.getItem('user_class_model');\n      console.log(classModel);\n      return classModel;\n    }\n  }, {\n    key: \"createBody\",\n    value: function createBody() {\n      var body = {\n        username: 'tanya',\n        inn: '999999999999',\n        class_model: getClassModel(),\n        bank: this.getActiveBank(),\n        client_type: 'T',\n        additional_comment: 'ТНО'\n      };\n      return body;\n    }\n  }, {\n    key: \"send\",\n    value: function send() {\n      var headers = {\n        'Content-Type': 'application/json'\n      };\n      return fetch(this.url, {\n        method: 'POST',\n        body: JSON.stringify(this.body),\n        headers: headers\n      }).then(function (response) {\n        return response.json();\n      });\n    }\n  }]);\n\n  return OnStatistic;\n}();\n\nexport default OnStatistic;","map":{"version":3,"sources":["C:/current_front/src/assets/sendEntryesOnServer.js"],"names":["OnStatistic","event","id","target","url","body","createBody","buttonsCheckbox","document","getElementsByClassName","bttn","checked","bttnId","replace","split","classModel","localStorage","getItem","console","log","username","inn","class_model","getClassModel","bank","getActiveBank","client_type","additional_comment","headers","fetch","method","JSON","stringify","then","response","json"],"mappings":";;;;;;;;;IAEMA,W;AACF,uBAAaC,KAAb,EAAoB;AAAA;;AAChB,SAAKA,KAAL,GAAaA,KAAb;AACA,SAAKC,EAAL,GAAUD,KAAK,CAACE,MAAN,CAAaD,EAAvB;AACA,SAAKE,GAAL,GAAW,6DAAX;AACA,SAAKC,IAAL,GAAY,KAAKC,UAAL,EAAZ;AACH;;;;WAED,yBAAiB;AACb,UAAIC,eAAe,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,yBAAhC,CAAtB;;AADa,iDAEIF,eAFJ;AAAA;;AAAA;AAEb,4DAAkC;AAAA,cAAzBG,IAAyB;;AAC9B,cAAIA,IAAI,CAACC,OAAL,IAAgB,IAApB,EAA0B;AACtB,gBAAIC,MAAM,GAAGF,IAAI,CAACR,EAAL,CAAQW,OAAR,CAAgB,WAAhB,EAA6B,EAA7B,EAAiCC,KAAjC,CAAuC,GAAvC,EAA4C,CAA5C,CAAb;AACA,mBAAOF,MAAP;AACH;AACJ;AAPY;AAAA;AAAA;AAAA;AAAA;AAQhB;;;WAED,yBAAiB;AACb,UAAIG,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAAjB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,UAAZ;AACA,aAAOA,UAAP;AACH;;;WAED,sBAAc;AACV,UAAIV,IAAI,GAAI;AACRe,QAAAA,QAAQ,EAAY,OADZ;AAERC,QAAAA,GAAG,EAAiB,cAFZ;AAGRC,QAAAA,WAAW,EAAEC,aAAa,EAHlB;AAIRC,QAAAA,IAAI,EAAE,KAAKC,aAAL,EAJE;AAKRC,QAAAA,WAAW,EAAS,GALZ;AAMRC,QAAAA,kBAAkB,EAAE;AANZ,OAAZ;AAQA,aAAOtB,IAAP;AACH;;;WAED,gBAAQ;AACJ,UAAMuB,OAAO,GAAG;AACZ,wBAAgB;AADJ,OAAhB;AAGA,aAAOC,KAAK,CAAC,KAAKzB,GAAN,EAAW;AACnB0B,QAAAA,MAAM,EAAE,MADW;AAEnBzB,QAAAA,IAAI,EAAE0B,IAAI,CAACC,SAAL,CAAe,KAAK3B,IAApB,CAFa;AAGnBuB,QAAAA,OAAO,EAAEA;AAHU,OAAX,CAAL,CAIJK,IAJI,CAIC,UAAAC,QAAQ,EAAI;AAChB,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,OANM,CAAP;AAOH;;;;;;AAGL,eAAenC,WAAf","sourcesContent":["\r\n\r\nclass OnStatistic {\r\n    constructor (event) {\r\n        this.event = event;\r\n        this.id = event.target.id\r\n        this.url = 'http://127.0.0.1:8000/api/statistics/create_statistic_entry'\r\n        this.body = this.createBody ()\r\n    }\r\n\r\n    getActiveBank () {\r\n        let buttonsCheckbox = document.getElementsByClassName('btn-check header-button')\r\n        for (let bttn of buttonsCheckbox) {\r\n            if (bttn.checked == true) {\r\n                let bttnId = bttn.id.replace('_registry', '').split(' ')[1]\r\n                return bttnId\r\n            }\r\n        }\r\n    }\r\n\r\n    getClassModel () {\r\n        let classModel = localStorage.getItem('user_class_model')\r\n        console.log(classModel)\r\n        return classModel\r\n    }\r\n\r\n    createBody () {\r\n        let body =  {\r\n            username:           'tanya',\r\n            inn:                '999999999999',\r\n            class_model: getClassModel (),\r\n            bank: this.getActiveBank (),\r\n            client_type:        'T',\r\n            additional_comment: 'ТНО'\r\n        }\r\n        return body\r\n    }\r\n\r\n    send () {\r\n        const headers = {\r\n            'Content-Type': 'application/json'\r\n        }\r\n        return fetch(this.url, {\r\n            method: 'POST',\r\n            body: JSON.stringify(this.body),\r\n            headers: headers\r\n        }).then(response => {\r\n            return response.json()\r\n        })\r\n    }\r\n}\r\n\r\nexport default OnStatistic;"]},"metadata":{},"sourceType":"module"}